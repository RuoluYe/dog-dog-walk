{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\yeruo\\\\OneDrive - UW\\\\Desktop\\\\free-dog-walk\\\\frontend\\\\src\\\\dogs\\\\pages\\\\NewDog.js\";\nimport React, { useContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport Input from \"../../shared/components/FormElements/Input/Input\";\nimport Button from \"../../shared/components/FormElements/Button/Button\";\nimport ErrorModal from \"../../shared/components/UI/ErrorModal/ErrorModal\";\nimport LoadingSpinner from \"../../shared/components/UI/LoadingSpinner/LoadingSpinner\";\nimport ImageUpload from \"../../shared/components/FormElements/ImageUpload/ImageUpload\";\nimport useForm from \"../../shared/hooks/form-hook\";\nimport useHttp from \"../../shared/hooks/http-hook\";\nimport { AuthContext } from \"../../shared/contexts/auth-context\";\nimport { VALIDATOR_MINLENGTH, VALIDATOR_REQUIRE } from \"../../shared/util/validators\";\nimport classes from \"./DogForm.css\";\nfunction NewDog() {\n  const history = useHistory();\n  const authContext = useContext(AuthContext);\n  const {\n    isLoading,\n    error,\n    sendRequest,\n    clearError\n  } = useHttp();\n  const [formState, inputHandler] = useForm({\n    title: {\n      value: \"\",\n      isValid: false\n    },\n    description: {\n      value: \"\",\n      isValid: false\n    },\n    address: {\n      value: \"\",\n      isValid: false\n    },\n    image: {\n      value: null,\n      isValid: false\n    }\n  }, false);\n  async function placeSubmitHandler(event) {\n    event.preventDefault();\n    try {\n      const formData = new FormData();\n      formData.append(\"title\", formState.inputs.title.value);\n      formData.append(\"description\", formState.inputs.description.value);\n      formData.append(\"address\", formState.inputs.address.value);\n      formData.append(\"image\", formState.inputs.image.value);\n      await sendRequest(`${process.env.REACT_APP_BACKEND_URL}/places`, \"POST\", formData, {\n        Authorization: `Bearer ${authContext.token}`\n      });\n      history.push(\"/\");\n    } catch (error) {\n      console.log(error);\n    }\n  }\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ErrorModal, {\n    error: error,\n    onClear: clearError,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"form\", {\n    className: classes[\"place-form\"],\n    onSubmit: placeSubmitHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }\n  }, isLoading && /*#__PURE__*/React.createElement(LoadingSpinner, {\n    asOverlay: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 23\n    }\n  }), /*#__PURE__*/React.createElement(Input, {\n    id: \"title\",\n    element: \"input\",\n    type: \"text\",\n    label: \"Title\",\n    validators: [VALIDATOR_REQUIRE()],\n    errorText: \"Please enter a valid title!\",\n    onInput: inputHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Input, {\n    id: \"description\",\n    label: \"Description\",\n    validators: [VALIDATOR_MINLENGTH(5)],\n    errorText: \"At least five characters!\",\n    onInput: inputHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Input, {\n    id: \"address\",\n    element: \"input\",\n    label: \"Address\",\n    validators: [VALIDATOR_REQUIRE()],\n    errorText: \"Please enter a valid address!\",\n    onInput: inputHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(ImageUpload, {\n    id: \"image\",\n    onInput: inputHandler,\n    errorText: \"Please provide an image!\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    disabled: !formState.isValid,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }\n  }, \"Add place\")));\n}\nexport default NewDog;","map":{"version":3,"names":["React","useContext","useHistory","Input","Button","ErrorModal","LoadingSpinner","ImageUpload","useForm","useHttp","AuthContext","VALIDATOR_MINLENGTH","VALIDATOR_REQUIRE","classes","NewDog","history","authContext","isLoading","error","sendRequest","clearError","formState","inputHandler","title","value","isValid","description","address","image","placeSubmitHandler","event","preventDefault","formData","FormData","append","inputs","process","env","REACT_APP_BACKEND_URL","Authorization","token","push","console","log","createElement","Fragment","onClear","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","className","onSubmit","asOverlay","id","element","type","label","validators","errorText","onInput","disabled"],"sources":["C:/Users/yeruo/OneDrive - UW/Desktop/free-dog-walk/frontend/src/dogs/pages/NewDog.js"],"sourcesContent":["import React, { useContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nimport Input from \"../../shared/components/FormElements/Input/Input\";\nimport Button from \"../../shared/components/FormElements/Button/Button\";\nimport ErrorModal from \"../../shared/components/UI/ErrorModal/ErrorModal\";\nimport LoadingSpinner from \"../../shared/components/UI/LoadingSpinner/LoadingSpinner\";\nimport ImageUpload from \"../../shared/components/FormElements/ImageUpload/ImageUpload\";\nimport useForm from \"../../shared/hooks/form-hook\";\nimport useHttp from \"../../shared/hooks/http-hook\";\nimport { AuthContext } from \"../../shared/contexts/auth-context\";\nimport {\n  VALIDATOR_MINLENGTH,\n  VALIDATOR_REQUIRE\n} from \"../../shared/util/validators\";\n\nimport classes from \"./DogForm.css\";\n\nfunction NewDog() {\n  const history = useHistory();\n  const authContext = useContext(AuthContext);\n  const { isLoading, error, sendRequest, clearError } = useHttp();\n  const [formState, inputHandler] = useForm(\n    {\n      title: {\n        value: \"\",\n        isValid: false\n      },\n      description: {\n        value: \"\",\n        isValid: false\n      },\n      address: {\n        value: \"\",\n        isValid: false\n      },\n      image: {\n        value: null,\n        isValid: false\n      }\n    },\n    false\n  );\n\n  async function placeSubmitHandler(event) {\n    event.preventDefault();\n\n    try {\n      const formData = new FormData();\n\n      formData.append(\"title\", formState.inputs.title.value);\n      formData.append(\"description\", formState.inputs.description.value);\n      formData.append(\"address\", formState.inputs.address.value);\n      formData.append(\"image\", formState.inputs.image.value);\n\n      await sendRequest(\n        `${process.env.REACT_APP_BACKEND_URL}/places`,\n        \"POST\",\n        formData,\n        {\n          Authorization: `Bearer ${authContext.token}`\n        }\n      );\n\n      history.push(\"/\");\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  return (\n    <>\n      <ErrorModal error={error} onClear={clearError} />\n      <form className={classes[\"place-form\"]} onSubmit={placeSubmitHandler}>\n        {isLoading && <LoadingSpinner asOverlay />}\n        <Input\n          id=\"title\"\n          element=\"input\"\n          type=\"text\"\n          label=\"Title\"\n          validators={[VALIDATOR_REQUIRE()]}\n          errorText=\"Please enter a valid title!\"\n          onInput={inputHandler}\n        />\n        <Input\n          id=\"description\"\n          label=\"Description\"\n          validators={[VALIDATOR_MINLENGTH(5)]}\n          errorText=\"At least five characters!\"\n          onInput={inputHandler}\n        />\n        <Input\n          id=\"address\"\n          element=\"input\"\n          label=\"Address\"\n          validators={[VALIDATOR_REQUIRE()]}\n          errorText=\"Please enter a valid address!\"\n          onInput={inputHandler}\n        />\n        <ImageUpload\n          id=\"image\"\n          onInput={inputHandler}\n          errorText=\"Please provide an image!\"\n        />\n        <Button type=\"submit\" disabled={!formState.isValid}>\n          Add place\n        </Button>\n      </form>\n    </>\n  );\n}\n\nexport default NewDog;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}