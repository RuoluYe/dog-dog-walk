{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\yeruo\\\\OneDrive - UW\\\\Desktop\\\\free-dog-walk\\\\frontend\\\\src\\\\dogs\\\\components\\\\DogItem\\\\DogItem.js\";\nimport React, { useContext, useState } from \"react\";\nimport Button from \"../../../shared/components/FormElements/Button/Button\";\nimport Card from \"../../../shared/components/UI/Card/Card\";\nimport Modal from \"../../../shared/components/UI/Modal/Modal\";\nimport Map from \"../../../shared/components/UI/Map/Map\";\nimport ErrorModal from \"../../../shared/components/UI/ErrorModal/ErrorModal\";\nimport LoadingSpinner from \"../../../shared/components/UI/LoadingSpinner/LoadingSpinner\";\nimport useHttp from \"../../../shared/hooks/http-hook\";\nimport { AuthContext } from \"../../../shared/contexts/auth-context\";\nimport classes from \"./DogItem.css\";\nfunction DogItem(props) {\n  const {\n    isLoading,\n    error,\n    sendRequest,\n    clearError\n  } = useHttp();\n  const [showMap, setShowMap] = useState(false);\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\n  const authContext = useContext(AuthContext);\n  function toggleMapHandler() {\n    setShowMap(!showMap);\n  }\n  function toggleShowDeleteModalHandler() {\n    setShowDeleteModal(!showDeleteModal);\n  }\n  async function deleteHandler() {\n    setShowDeleteModal(false);\n    try {\n      await sendRequest(`${process.env.REACT_APP_BACKEND_URL}/places/${props.id}`, \"DELETE\", null, {\n        Authorization: `Bearer ${authContext.token}`\n      });\n      props.onDelete(props.id);\n    } catch (error) {\n      console.log(error);\n    }\n  }\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ErrorModal, {\n    error: error,\n    onClear: clearError,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Modal, {\n    show: showDeleteModal,\n    onCancel: toggleShowDeleteModalHandler,\n    header: \"Are you sure?\",\n    footerClass: \"place-item__modal-actions\",\n    footer: /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, {\n      onClick: toggleShowDeleteModalHandler,\n      inverse: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 13\n      }\n    }, \"Cancel\"), /*#__PURE__*/React.createElement(Button, {\n      onClick: deleteHandler,\n      danger: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 13\n      }\n    }, \"Delete\")),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      margin: \"1rem\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }, \"Are you sure you want to delete this dog? This action cannot be undone!\")), /*#__PURE__*/React.createElement(\"li\", {\n    className: classes[\"place-item\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    className: classes[\"place-item__content\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }\n  }, isLoading && /*#__PURE__*/React.createElement(LoadingSpinner, {\n    asOverlay: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes[\"place-item__image\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: `${process.env.REACT_APP_ASSET_URL}/${props.image}`,\n    alt: props.name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes[\"place-item__info\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 13\n    }\n  }, props.name), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 13\n    }\n  }, props.address), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 13\n    }\n  }, props.description), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes[\"map-container\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 15\n    }\n  }, \"Location\"), /*#__PURE__*/React.createElement(Map, {\n    center: props.coordinates,\n    zoom: 16,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes[\"place-item__actions\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 11\n    }\n  }, authContext.userId === props.ownerId && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, {\n    to: `/dogs/${props.id}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 17\n    }\n  }, \"Edit\"), /*#__PURE__*/React.createElement(Button, {\n    onClick: toggleShowDeleteModalHandler,\n    danger: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 17\n    }\n  }, \"Delete\"))))));\n}\nexport default DogItem;","map":{"version":3,"names":["React","useContext","useState","Button","Card","Modal","Map","ErrorModal","LoadingSpinner","useHttp","AuthContext","classes","DogItem","props","isLoading","error","sendRequest","clearError","showMap","setShowMap","showDeleteModal","setShowDeleteModal","authContext","toggleMapHandler","toggleShowDeleteModalHandler","deleteHandler","process","env","REACT_APP_BACKEND_URL","id","Authorization","token","onDelete","console","log","createElement","Fragment","onClear","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","show","onCancel","header","footerClass","footer","onClick","inverse","danger","style","margin","className","asOverlay","src","REACT_APP_ASSET_URL","image","alt","name","address","description","center","coordinates","zoom","userId","ownerId","to"],"sources":["C:/Users/yeruo/OneDrive - UW/Desktop/free-dog-walk/frontend/src/dogs/components/DogItem/DogItem.js"],"sourcesContent":["import React, { useContext, useState } from \"react\";\n\nimport Button from \"../../../shared/components/FormElements/Button/Button\";\nimport Card from \"../../../shared/components/UI/Card/Card\";\nimport Modal from \"../../../shared/components/UI/Modal/Modal\";\nimport Map from \"../../../shared/components/UI/Map/Map\";\nimport ErrorModal from \"../../../shared/components/UI/ErrorModal/ErrorModal\";\nimport LoadingSpinner from \"../../../shared/components/UI/LoadingSpinner/LoadingSpinner\";\nimport useHttp from \"../../../shared/hooks/http-hook\";\nimport { AuthContext } from \"../../../shared/contexts/auth-context\";\n\nimport classes from \"./DogItem.css\";\n\nfunction DogItem(props) {\n  const { isLoading, error, sendRequest, clearError } = useHttp();\n  const [showMap, setShowMap] = useState(false);\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\n  const authContext = useContext(AuthContext);\n\n  function toggleMapHandler() {\n    setShowMap(!showMap);\n  }\n\n  function toggleShowDeleteModalHandler() {\n    setShowDeleteModal(!showDeleteModal);\n  }\n\n  async function deleteHandler() {\n    setShowDeleteModal(false);\n\n    try {\n      await sendRequest(\n        `${process.env.REACT_APP_BACKEND_URL}/places/${props.id}`,\n        \"DELETE\",\n        null,\n        {\n          Authorization: `Bearer ${authContext.token}`,\n        }\n      );\n\n      props.onDelete(props.id);\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  return (\n    <>\n      <ErrorModal error={error} onClear={clearError} />\n      {/* <Modal\n        show={showMap}\n        onCancel={toggleMapHandler}\n        header={props.address}\n        contentClass=\"place-item__modal-content\"\n        footerClass=\"place-item__modal-actions\"\n        footer={<Button onClick={toggleMapHandler}>Close</Button>}\n      >\n        <div className={classes[\"map-container\"]}>\n          <Map center={props.coordinates} zoom={16} />\n        </div>\n      </Modal> */}\n      <Modal\n        show={showDeleteModal}\n        onCancel={toggleShowDeleteModalHandler}\n        header=\"Are you sure?\"\n        footerClass=\"place-item__modal-actions\"\n        footer={\n          <>\n            <Button onClick={toggleShowDeleteModalHandler} inverse>\n              Cancel\n            </Button>\n            <Button onClick={deleteHandler} danger>\n              Delete\n            </Button>\n          </>\n        }\n      >\n        <p style={{ margin: \"1rem\" }}>\n          Are you sure you want to delete this dog? This action cannot be\n          undone!\n        </p>\n      </Modal>\n      {/* todo #5\n      <Modal\n        show={showContact}\n        onCancel={toggleContactHandler}\n        header={\"Contact\"}\n        contentClass=\"place-item__modal-content\"\n        footerClass=\"place-item__modal-actions\"\n        footer={<Button onClick={toggleMapHandler}>Close</Button>}\n      >\n        <div className={classes[\"place-item__info\"]}>\n            <h2>{props.name}</h2>\n            <h3>{props.email}</h3>\n            // other contact info\n        </div>\n      </Modal> */}\n      <li className={classes[\"place-item\"]}>\n        <Card className={classes[\"place-item__content\"]}>\n          {isLoading && <LoadingSpinner asOverlay />}\n          <div className={classes[\"place-item__image\"]}>\n            <img\n              src={`${process.env.REACT_APP_ASSET_URL}/${props.image}`}\n              alt={props.name}\n            />\n          </div>\n          <div className={classes[\"place-item__info\"]}>\n            <h2>{props.name}</h2>\n            <h3>{props.address}</h3>\n            <p>{props.description}</p>\n            <div className={classes[\"map-container\"]}>\n              <h3>Location</h3>\n              <Map center={props.coordinates} zoom={16} />\n            </div>\n          </div>\n          <div className={classes[\"place-item__actions\"]}>\n            {/* <Button onClick={toggleMapHandler} inverse>\n              View on map\n            </Button> */}\n            {authContext.userId === props.ownerId && (\n              <>\n                <Button to={`/dogs/${props.id}`}>Edit</Button>\n                <Button onClick={toggleShowDeleteModalHandler} danger>\n                  Delete\n                </Button>\n              </>\n            )}\n            {/* todo #2\n            {authContext.userId !== props.ownerId && <Button onClick={showContactHandler}> Walk Me!</Button>}  \n            */}\n          </div>\n        </Card>\n      </li>\n    </>\n  );\n}\n\nexport default DogItem;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}