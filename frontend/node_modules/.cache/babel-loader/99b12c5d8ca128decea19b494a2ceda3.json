{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\yeruo\\\\OneDrive - UW\\\\Desktop\\\\free-dog-walk\\\\frontend\\\\src\\\\places\\\\components\\\\DogItem\\\\DogItem.js\";\nimport React, { useContext, useState } from \"react\";\nimport Button from \"../../../shared/components/FormElements/Button/Button\";\nimport Card from \"../../../shared/components/UI/Card/Card\";\nimport Modal from \"../../../shared/components/UI/Modal/Modal\";\nimport Map from \"../../../shared/components/UI/Map/Map\";\nimport ErrorModal from \"../../../shared/components/UI/ErrorModal/ErrorModal\";\nimport LoadingSpinner from \"../../../shared/components/UI/LoadingSpinner/LoadingSpinner\";\nimport useHttp from \"../../../shared/hooks/http-hook\";\nimport { AuthContext } from \"../../../shared/contexts/auth-context\";\nimport classes from \"./DogItem.css\";\nfunction DogItem(props) {\n  const {\n    isLoading,\n    error,\n    sendRequest,\n    clearError\n  } = useHttp();\n  const [showMap, setShowMap] = useState(false);\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\n  const authContext = useContext(AuthContext);\n  function toggleMapHandler() {\n    setShowMap(!showMap);\n  }\n  function toggleShowDeleteModalHandler() {\n    setShowDeleteModal(!showDeleteModal);\n  }\n  async function deleteHandler() {\n    setShowDeleteModal(false);\n    try {\n      await sendRequest(`${process.env.REACT_APP_BACKEND_URL}/places/${props.id}`, \"DELETE\", null, {\n        Authorization: `Bearer ${authContext.token}`\n      });\n      props.onDelete(props.id);\n    } catch (error) {\n      console.log(error);\n    }\n  }\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ErrorModal, {\n    error: error,\n    onClear: clearError,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Modal, {\n    show: showMap,\n    onCancel: toggleMapHandler,\n    header: props.address,\n    contentClass: \"place-item__modal-content\",\n    footerClass: \"place-item__modal-actions\",\n    footer: /*#__PURE__*/React.createElement(Button, {\n      onClick: toggleMapHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }\n    }, \"Close\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes[\"map-container\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Map, {\n    center: props.coordinates,\n    zoom: 16,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(Modal, {\n    show: showDeleteModal,\n    onCancel: toggleShowDeleteModalHandler,\n    header: \"Are you sure?\",\n    footerClass: \"place-item__modal-actions\",\n    footer: /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, {\n      onClick: toggleShowDeleteModalHandler,\n      inverse: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 13\n      }\n    }, \"Cancel\"), /*#__PURE__*/React.createElement(Button, {\n      onClick: deleteHandler,\n      danger: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 13\n      }\n    }, \"Delete\")),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      margin: \"1rem\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }, \"Are you sure you want to delete this place? This action cannot be undone!\")), /*#__PURE__*/React.createElement(\"li\", {\n    className: classes[\"place-item\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    className: classes[\"place-item__content\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }\n  }, isLoading && /*#__PURE__*/React.createElement(LoadingSpinner, {\n    asOverlay: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes[\"place-item__image\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: `${process.env.REACT_APP_ASSET_URL}/${props.image}`,\n    alt: props.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes[\"place-item__info\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }\n  }, props.title), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }\n  }, props.address), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }\n  }, props.description)), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes[\"place-item__actions\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: toggleMapHandler,\n    inverse: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }\n  }, \"View on map\"), authContext.userId === props.creatorId && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, {\n    to: `/places/${props.id}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 17\n    }\n  }, \"Edit\"), /*#__PURE__*/React.createElement(Button, {\n    onClick: toggleShowDeleteModalHandler,\n    danger: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 17\n    }\n  }, \"Delete\"))))));\n}\nexport default DogItem;","map":{"version":3,"names":["React","useContext","useState","Button","Card","Modal","Map","ErrorModal","LoadingSpinner","useHttp","AuthContext","classes","DogItem","props","isLoading","error","sendRequest","clearError","showMap","setShowMap","showDeleteModal","setShowDeleteModal","authContext","toggleMapHandler","toggleShowDeleteModalHandler","deleteHandler","process","env","REACT_APP_BACKEND_URL","id","Authorization","token","onDelete","console","log","createElement","Fragment","onClear","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","show","onCancel","header","address","contentClass","footerClass","footer","onClick","className","center","coordinates","zoom","inverse","danger","style","margin","asOverlay","src","REACT_APP_ASSET_URL","image","alt","title","description","userId","creatorId","to"],"sources":["C:/Users/yeruo/OneDrive - UW/Desktop/free-dog-walk/frontend/src/places/components/DogItem/DogItem.js"],"sourcesContent":["import React, { useContext, useState } from \"react\";\n\nimport Button from \"../../../shared/components/FormElements/Button/Button\";\nimport Card from \"../../../shared/components/UI/Card/Card\";\nimport Modal from \"../../../shared/components/UI/Modal/Modal\";\nimport Map from \"../../../shared/components/UI/Map/Map\";\nimport ErrorModal from \"../../../shared/components/UI/ErrorModal/ErrorModal\";\nimport LoadingSpinner from \"../../../shared/components/UI/LoadingSpinner/LoadingSpinner\";\nimport useHttp from \"../../../shared/hooks/http-hook\";\nimport { AuthContext } from \"../../../shared/contexts/auth-context\";\n\nimport classes from \"./DogItem.css\";\n\nfunction DogItem(props) {\n  const { isLoading, error, sendRequest, clearError } = useHttp();\n  const [showMap, setShowMap] = useState(false);\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\n  const authContext = useContext(AuthContext);\n\n  function toggleMapHandler() {\n    setShowMap(!showMap);\n  }\n\n  function toggleShowDeleteModalHandler() {\n    setShowDeleteModal(!showDeleteModal);\n  }\n\n  async function deleteHandler() {\n    setShowDeleteModal(false);\n\n    try {\n      await sendRequest(\n        `${process.env.REACT_APP_BACKEND_URL}/places/${props.id}`,\n        \"DELETE\",\n        null,\n        {\n          Authorization: `Bearer ${authContext.token}`,\n        }\n      );\n\n      props.onDelete(props.id);\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  return (\n    <>\n      <ErrorModal error={error} onClear={clearError} />\n      <Modal\n        show={showMap}\n        onCancel={toggleMapHandler}\n        header={props.address}\n        contentClass=\"place-item__modal-content\"\n        footerClass=\"place-item__modal-actions\"\n        footer={<Button onClick={toggleMapHandler}>Close</Button>}\n      >\n        <div className={classes[\"map-container\"]}>\n          <Map center={props.coordinates} zoom={16} />\n        </div>\n      </Modal>\n      <Modal\n        show={showDeleteModal}\n        onCancel={toggleShowDeleteModalHandler}\n        header=\"Are you sure?\"\n        footerClass=\"place-item__modal-actions\"\n        footer={\n          <>\n            <Button onClick={toggleShowDeleteModalHandler} inverse>\n              Cancel\n            </Button>\n            <Button onClick={deleteHandler} danger>\n              Delete\n            </Button>\n          </>\n        }\n      >\n        <p style={{ margin: \"1rem\" }}>\n          Are you sure you want to delete this place? This action cannot be\n          undone!\n        </p>\n      </Modal>\n      <li className={classes[\"place-item\"]}>\n        <Card className={classes[\"place-item__content\"]}>\n          {isLoading && <LoadingSpinner asOverlay />}\n          <div className={classes[\"place-item__image\"]}>\n            <img\n              src={`${process.env.REACT_APP_ASSET_URL}/${props.image}`}\n              alt={props.title}\n            />\n          </div>\n          <div className={classes[\"place-item__info\"]}>\n            <h2>{props.title}</h2>\n            <h3>{props.address}</h3>\n            <p>{props.description}</p>\n          </div>\n          <div className={classes[\"place-item__actions\"]}>\n            <Button onClick={toggleMapHandler} inverse>\n              View on map\n            </Button>\n            {authContext.userId === props.creatorId && (\n              <>\n                <Button to={`/places/${props.id}`}>Edit</Button>\n                <Button onClick={toggleShowDeleteModalHandler} danger>\n                  Delete\n                </Button>\n              </>\n            )}\n          </div>\n        </Card>\n      </li>\n    </>\n  );\n}\n\nexport default DogItem;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}