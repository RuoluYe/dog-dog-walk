{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\yeruo\\\\OneDrive - UW\\\\Desktop\\\\free-dog-walk\\\\frontend\\\\src\\\\dogs\\\\pages\\\\NewDog.js\";\nimport React, { useContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport Input from \"../../shared/components/FormElements/Input/Input\";\nimport Button from \"../../shared/components/FormElements/Button/Button\";\nimport ErrorModal from \"../../shared/components/UI/ErrorModal/ErrorModal\";\nimport LoadingSpinner from \"../../shared/components/UI/LoadingSpinner/LoadingSpinner\";\nimport ImageUpload from \"../../shared/components/FormElements/ImageUpload/ImageUpload\";\nimport useForm from \"../../shared/hooks/form-hook\";\nimport useHttp from \"../../shared/hooks/http-hook\";\nimport { AuthContext } from \"../../shared/contexts/auth-context\";\nimport { VALIDATOR_MINLENGTH, VALIDATOR_REQUIRE } from \"../../shared/util/validators\";\nimport classes from \"./DogForm.css\";\nfunction NewDog() {\n  const history = useHistory();\n  const authContext = useContext(AuthContext);\n  const {\n    isLoading,\n    error,\n    sendRequest,\n    clearError\n  } = useHttp();\n  const [formState, inputHandler] = useForm({\n    name: {\n      value: \"\",\n      isValid: false\n    },\n    description: {\n      value: \"e.g. When does your dog need to be walked? What should walkers be mindful of?\",\n      isValid: false\n    },\n    address: {\n      value: \"\",\n      isValid: false\n    },\n    image: {\n      value: null,\n      isValid: false\n    }\n  }, false);\n  async function placeSubmitHandler(event) {\n    event.preventDefault();\n    try {\n      const formData = new FormData();\n      formData.append(\"name\", formState.inputs.name.value);\n      formData.append(\"description\", formState.inputs.description.value);\n      formData.append(\"address\", formState.inputs.address.value);\n      formData.append(\"owner\", authContext.userId);\n      formData.append(\"image\", formState.inputs.image.value);\n      await sendRequest(`${process.env.REACT_APP_BACKEND_URL}/dog`, \"POST\", formData, {\n        Authorization: `Bearer ${authContext.token}`\n      });\n      history.push(\"/\");\n    } catch (error) {\n      console.log(error);\n    }\n  }\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ErrorModal, {\n    error: error,\n    onClear: clearError,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"form\", {\n    className: classes[\"place-form\"],\n    onSubmit: placeSubmitHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }\n  }, isLoading && /*#__PURE__*/React.createElement(LoadingSpinner, {\n    asOverlay: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 23\n    }\n  }), /*#__PURE__*/React.createElement(Input, {\n    id: \"name\",\n    element: \"input\",\n    type: \"text\",\n    label: \"Dog Name\",\n    validators: [VALIDATOR_REQUIRE()],\n    errorText: \"Please enter a valid name!\",\n    onInput: inputHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Input, {\n    id: \"description\",\n    label: \"Description\"\n    // validators={[VALIDATOR_MINLENGTH(5)]}\n    ,\n    validators: [],\n    errorText: \"At least five characters!\",\n    onInput: inputHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Input, {\n    id: \"address\",\n    element: \"input\",\n    label: \"Address\",\n    validators: [VALIDATOR_REQUIRE()],\n    errorText: \"Please enter a valid address!\",\n    onInput: inputHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(ImageUpload, {\n    id: \"image\",\n    onInput: inputHandler,\n    errorText: \"Please provide an image!\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    disabled: !formState.isValid,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 9\n    }\n  }, \"Add dog\")));\n}\nexport default NewDog;\n// usecallback 2 40 13","map":{"version":3,"names":["React","useContext","useHistory","Input","Button","ErrorModal","LoadingSpinner","ImageUpload","useForm","useHttp","AuthContext","VALIDATOR_MINLENGTH","VALIDATOR_REQUIRE","classes","NewDog","history","authContext","isLoading","error","sendRequest","clearError","formState","inputHandler","name","value","isValid","description","address","image","placeSubmitHandler","event","preventDefault","formData","FormData","append","inputs","userId","process","env","REACT_APP_BACKEND_URL","Authorization","token","push","console","log","createElement","Fragment","onClear","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","className","onSubmit","asOverlay","id","element","type","label","validators","errorText","onInput","disabled"],"sources":["C:/Users/yeruo/OneDrive - UW/Desktop/free-dog-walk/frontend/src/dogs/pages/NewDog.js"],"sourcesContent":["import React, { useContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nimport Input from \"../../shared/components/FormElements/Input/Input\";\nimport Button from \"../../shared/components/FormElements/Button/Button\";\nimport ErrorModal from \"../../shared/components/UI/ErrorModal/ErrorModal\";\nimport LoadingSpinner from \"../../shared/components/UI/LoadingSpinner/LoadingSpinner\";\nimport ImageUpload from \"../../shared/components/FormElements/ImageUpload/ImageUpload\";\nimport useForm from \"../../shared/hooks/form-hook\";\nimport useHttp from \"../../shared/hooks/http-hook\";\nimport { AuthContext } from \"../../shared/contexts/auth-context\";\nimport {\n  VALIDATOR_MINLENGTH,\n  VALIDATOR_REQUIRE\n} from \"../../shared/util/validators\";\n\nimport classes from \"./DogForm.css\";\n\nfunction NewDog() {\n  const history = useHistory();\n  const authContext = useContext(AuthContext);\n  const { isLoading, error, sendRequest, clearError } = useHttp();\n  const [formState, inputHandler] = useForm(\n    {\n      name: {\n        value: \"\",\n        isValid: false\n      },\n      description: {\n        value: \"e.g. When does your dog need to be walked? What should walkers be mindful of?\",\n        isValid: false\n      },\n      address: {\n        value: \"\",\n        isValid: false\n      },\n      image: {\n        value: null,\n        isValid: false\n      }\n    },\n    false\n  );\n\n  async function placeSubmitHandler(event) {\n    event.preventDefault();\n\n    try {\n      const formData = new FormData();\n\n      formData.append(\"name\", formState.inputs.name.value);\n      formData.append(\"description\", formState.inputs.description.value);\n      formData.append(\"address\", formState.inputs.address.value);\n      formData.append(\"owner\", authContext.userId);\n      formData.append(\"image\", formState.inputs.image.value);\n\n      await sendRequest(\n        `${process.env.REACT_APP_BACKEND_URL}/dog`,\n        \"POST\",\n        formData,\n        {\n          Authorization: `Bearer ${authContext.token}`\n        }\n      );\n\n      history.push(\"/\");\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  return (\n    <>\n      <ErrorModal error={error} onClear={clearError} />\n      <form className={classes[\"place-form\"]} onSubmit={placeSubmitHandler}>\n        {isLoading && <LoadingSpinner asOverlay />}\n        <Input\n          id=\"name\"\n          element=\"input\"\n          type=\"text\"\n          label=\"Dog Name\"\n          validators={[VALIDATOR_REQUIRE()]}\n          errorText=\"Please enter a valid name!\"\n          onInput={inputHandler}\n        />\n        <Input\n          id=\"description\"\n          label=\"Description\"\n          // validators={[VALIDATOR_MINLENGTH(5)]}\n          validators={[]}\n          errorText=\"At least five characters!\"\n          onInput={inputHandler}\n        />\n        <Input\n          id=\"address\"\n          element=\"input\"\n          label=\"Address\"\n          validators={[VALIDATOR_REQUIRE()]}\n          errorText=\"Please enter a valid address!\"\n          onInput={inputHandler}\n        />\n        <ImageUpload\n          id=\"image\"\n          onInput={inputHandler}\n          errorText=\"Please provide an image!\"\n        />\n        <Button type=\"submit\" disabled={!formState.isValid}>\n          Add dog\n        </Button>\n      </form>\n    </>\n  );\n}\n\nexport default NewDog;\n// usecallback 2 40 13"],"mappings":"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"},"metadata":{},"sourceType":"module"}